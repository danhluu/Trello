{"ast":null,"code":"var _jsxFileName = \"E:\\\\Blameo\\\\BaseProject\\\\React\\\\Ha\\\\trello-fe\\\\src\\\\pages\\\\Header2.js\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useState, useRef } from 'react';\nimport { StarOutlined, LockOutlined, PlusOutlined } from '@ant-design/icons';\nimport { Button, Layout, Select, Avatar, Input } from 'antd'; // import api from './callApi/baseUrl'\n\nimport Form from 'antd/lib/form/Form';\nimport { v4 as uuidv4 } from 'uuid';\nimport './header2.css';\nimport { getAllUserBoard, getAllUserToAddToBoard, postUserToBoardApi } from '../Api/func/user';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction Header2(id) {\n  _s();\n\n  const styleHead2 = {\n    position: \"relative\",\n    background: '#6D8DDF',\n    height: '60px',\n    marginTop: '6px',\n    padding: '0px'\n  };\n  const styleButton = {\n    margin: 'auto 5px',\n    background: '#B9CFFB',\n    color: '#fff',\n    fontWeight: 'bold',\n    height: '40px',\n    border: 'none'\n  };\n  const styleAvatar = {\n    width: \"40px\",\n    height: \"40px\",\n    color: '#000',\n    textAlign: \"center\",\n    backgroundColor: '#fff',\n    fontSize: '12px',\n    fontWeight: '500',\n    // margin: 'auto 1px auto 0',\n    borderRadius: '50%'\n  };\n  const invite_popup = {\n    width: \"300px\",\n    height: \"400px\",\n    position: 'absolute',\n    top: '33px',\n    left: '4px',\n    backgroundColor: '#ffffff',\n    border: 'solid 1px #e7eaf0',\n    borderRadius: '5px',\n    zIndex: '1'\n  }; //state\n\n  const [userSearch, setuserSearch] = useState([]);\n  const [userAdded, setuserAdded] = useState([]);\n  const [email, setemail] = useState(\"\");\n  const [error, seterror] = useState(\"1\");\n  const [users, setusers] = useState([]); //danh sach nguoi trong bang\n\n  const [userDetail, setuserDetail] = useState({}); //ref\n\n  const textInput = useRef(null); //ẩn hiện form thêm người dùng vào bảng\n\n  const btnInviteOnclick = () => {\n    var x = document.getElementById(\"invitePopup\");\n    document.getElementById(\"focus\").focus();\n    x.classList.toggle(\"isHide\");\n    const userDetail = document.getElementById(\"detail-user\");\n    userDetail.classList.add(\"isHide\");\n    setuserSearch([]);\n    setuserAdded([]);\n    seterror(\"1\");\n    textInput.current.focus(); // setemail(\"\");\n  }; //đóng invite\n\n\n  const btnCloseInviteOnClick = () => {\n    var x = document.getElementById(\"invitePopup\");\n    x.classList.add(\"isHide\");\n  }; //change email\n\n\n  const EmailOnChange = e => {\n    if (e.target.value) {\n      setemail(e.target.value);\n    }\n  }; //Tìm Kiếm người dùng\n\n\n  const btnSearchOnClick = async e => {\n    try {\n      var users = await getAllUserToAddToBoard({\n        boardId: id.id,\n        keyword: email\n      });\n      console.log(users.data);\n\n      if (users.data.length > 0) {\n        setuserSearch(users.data);\n        seterror(\"1\");\n      } else {\n        seterror(\"2\");\n        setuserSearch([]);\n      }\n    } catch (ex) {\n      console.log(ex);\n      seterror(\"Không tìm thấy kết quả\");\n      setuserSearch([]);\n    }\n  }; //Thêm vào danh sách add\n\n\n  const addToListInvite = e => {\n    // console.log(\"obj invite: \",e)\n    if (!userAdded.includes(e)) {\n      setuserAdded([...userAdded, e]);\n    } // console.log(userAdded);\n\n  }; //Xoá khỏi danh sách mời vào bảng\n\n\n  const removeToListInvite = obj => {\n    console.log(\"obj Remove: \", obj);\n    var arr = userAdded;\n    console.log(\"arr: \", arr);\n\n    for (let i = 0; i < arr.length; i++) {\n      if (obj.id == arr[i].id) {\n        arr.splice(i, 1); // console.log(arr[i]);\n      }\n    }\n\n    console.log(\"Sau khi remove: \", userAdded);\n    setuserAdded([...arr]);\n  }; //thêm người vào bảng\n\n\n  const btnAddUserOnClick = async e => {\n    if (userAdded.length > 0) {\n      for (let i = 0; i < userAdded.length; i++) {\n        var u_id = userAdded[i].id;\n        var b_id = id.id; // var user_b = {\n        //     userId: u_id,\n        //     boardId: b_id\n        // }\n        // console.log(user_b)\n\n        await postUserToBoardApi({\n          userId: u_id,\n          boardId: b_id\n        }).then(res => {\n          console.log(\"res: \", res);\n          set;\n        }); // api.post(\"user_b\",user_b).then(res =>{\n        //     console.log(\"res: \",res);\n        // }).catch(e =>{\n        //     console.log(\"ex: \",e)\n        // });\n      }\n\n      btnCloseInviteOnClick();\n    }\n  };\n\n  const {\n    Header\n  } = Layout;\n  const {\n    Option\n  } = Select; // Get all user\n\n  const getAllUsers = async () => {\n    const users = await getAllUserBoard({\n      boardId: id.id\n    });\n    return users; // const res = await api.get('/user_board');\n    // return res;\n  }; // Chi tiết user\n\n\n  const DetailUser = obj => {\n    const dom = document.getElementById(\"detail-user\");\n    dom.classList.toggle(\"isHide\");\n    const invite = document.getElementById(\"invitePopup\");\n    invite.classList.add(\"isHide\");\n    console.log(obj);\n    setuserDetail(obj);\n  }; //Đóng chi tiết người dùng\n\n\n  const btnCloseOnClick = () => {\n    const dom = document.getElementById(\"detail-user\");\n    dom.classList.add(\"isHide\");\n  }; // useEffect\n\n\n  useEffect(() => {\n    const getAll = async () => {\n      const allUsers = await getAllUsers();\n      console.log(\"user: \", allUsers);\n      if (allUsers) setusers(allUsers.data);\n    };\n\n    console.log(id.id); // const timer = setInterval(1000)\n\n    getAll(); // return () => clearInterval(timer);\n  }, []); // if(users[0])\n  //     console.log(users[0].username.charAt(0));\n\n  return /*#__PURE__*/_jsxDEV(Header, {\n    style: styleHead2,\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        margin: 'auto 20px',\n        display: 'flex',\n        justifyContent: 'space-between'\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(Select, {\n          defaultValue: \"Board\",\n          style: {\n            width: 110,\n            margin: 'auto 5px auto 0',\n            color: '#000',\n            fontWeight: '500'\n          },\n          children: [/*#__PURE__*/_jsxDEV(Option, {\n            value: \"Board\",\n            children: \"Board\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 222,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(Option, {\n            value: \"Calendar\",\n            children: \"Calendar\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 223,\n            columnNumber: 29\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 221,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(Button, {\n          style: styleButton,\n          children: \"Name\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 225,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(Button, {\n          style: styleButton,\n          children: /*#__PURE__*/_jsxDEV(StarOutlined, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 226,\n            columnNumber: 53\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 226,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(Button, {\n          style: styleButton,\n          children: [/*#__PURE__*/_jsxDEV(LockOutlined, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 227,\n            columnNumber: 53\n          }, this), \" Private\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 227,\n          columnNumber: 25\n        }, this), users.map((user, index) => {\n          return index < 2 ? /*#__PURE__*/_jsxDEV(Button, {\n            onClick: () => DetailUser(user),\n            style: styleAvatar,\n            children: user.fullName ? user.fullName.charAt(0) : \"\"\n          }, user.id, false, {\n            fileName: _jsxFileName,\n            lineNumber: 231,\n            columnNumber: 37\n          }, this) : \"\";\n        }), /*#__PURE__*/_jsxDEV(\"div\", {\n          id: \"detail-user\",\n          className: \"isHide\",\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: btnCloseOnClick,\n            className: \"btnClose\",\n            children: \"X\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 239,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex detail-user__header\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"header__avatar\",\n              children: /*#__PURE__*/_jsxDEV(Avatar, {\n                className: \"circle_avatar\",\n                children: userDetail.username ? userDetail.username.charAt(0).toUpperCase() : \"\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 242,\n                columnNumber: 37\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 241,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"infor-user\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"infor-user_name\",\n                children: userDetail.username\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 246,\n                columnNumber: 37\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"infor-user_email\",\n                children: userDetail.email\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 247,\n                columnNumber: 37\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 245,\n              columnNumber: 33\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 240,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"btn-option-user\",\n            children: /*#__PURE__*/_jsxDEV(Button, {\n              className: \"btn\",\n              children: \"Thay \\u0110\\u1ED5i quy\\u1EC1n\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 252,\n              columnNumber: 33\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 251,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"btn-option-user\",\n            children: /*#__PURE__*/_jsxDEV(Button, {\n              className: \"btn\",\n              children: \"Xem ho\\u1EA1t \\u0111\\xF4ng c\\u1EE7a th\\xE0nh vi\\xEAn trong b\\u1EA3ng\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 255,\n              columnNumber: 33\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 254,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"btn-option-user\",\n            children: /*#__PURE__*/_jsxDEV(Button, {\n              className: \"btn\",\n              children: \"R\\u1EDDi kh\\u1ECFi b\\u1EA3ng\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 258,\n              columnNumber: 33\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 257,\n            columnNumber: 29\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 238,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(Avatar, {\n          style: {\n            color: '#fff',\n            backgroundColor: '#84ABF7',\n            fontSize: '12px',\n            fontWeight: '500',\n            margin: 'auto 0'\n          },\n          children: [/*#__PURE__*/_jsxDEV(PlusOutlined, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 273,\n            columnNumber: 29\n          }, this), users.length - 2 > 0 ? users.length - 2 : \"\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 264,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          style: {\n            position: \"relative\"\n          },\n          children: [/*#__PURE__*/_jsxDEV(Button, {\n            onClick: btnInviteOnclick,\n            style: styleButton,\n            children: \"Invite\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 278,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            id: \"invitePopup\",\n            style: invite_popup,\n            className: \"isHide\",\n            children: [/*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: btnCloseInviteOnClick,\n              className: \"btnClose\",\n              style: {\n                lineHeight: \"normal\"\n              },\n              children: \"X\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 282,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                height: \"20px\",\n                textAlign: \"center\",\n                lineHeight: \"20px\",\n                marginTop: \"5px\",\n                alignItems: \"center\"\n              },\n              children: \"M\\u1EDDi v\\xE0o b\\u1EA3ng\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 283,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"hr\", {\n              style: {\n                width: \"90%\"\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 286,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                id: \"focus\",\n                ref: textInput,\n                onChange: EmailOnChange,\n                style: {\n                  height: \"32px\",\n                  marginLeft: \"13px\"\n                },\n                type: \"text\",\n                placeholder: \"\\u0110\\u1ECBa ch\\u1EC9 email ho\\u1EB7c t\\xEAn\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 288,\n                columnNumber: 36\n              }, this), /*#__PURE__*/_jsxDEV(Button, {\n                style: {\n                  marginLeft: \"10px\"\n                },\n                onClick: btnSearchOnClick,\n                children: \"T\\xECm Ki\\u1EBFm\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 289,\n                columnNumber: 36\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 287,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              children: /*#__PURE__*/_jsxDEV(\"ul\", {\n                style: {\n                  listStyleType: \"none\",\n                  margin: \"0 0 0 20px\",\n                  padding: \"0\"\n                },\n                children: userSearch.map((obj, index) => /*#__PURE__*/_jsxDEV(\"li\", {\n                  style: {\n                    height: \"25px\",\n                    marginTop: \"5px\"\n                  },\n                  children: /*#__PURE__*/_jsxDEV(Button, {\n                    style: {\n                      position: \"fixed\",\n                      height: \"25px\",\n                      lineHeight: \"18px\",\n                      border: \"none\",\n                      borderRadius: \"10px\",\n                      backgroundColor: \"#6d8ddf\",\n                      color: \"#fff\"\n                    },\n                    onClick: () => addToListInvite(obj),\n                    children: obj.email\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 297,\n                    columnNumber: 49\n                  }, this)\n                }, obj.id, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 296,\n                  columnNumber: 45\n                }, this))\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 293,\n                columnNumber: 37\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 292,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                textAlign: \"center\",\n                fontSize: \"16px\"\n              },\n              children: error != \"1\" ? \"Không tìm thấy\" : \"\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 319,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"hr\", {\n              style: {\n                width: \"90%\"\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 320,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              children: /*#__PURE__*/_jsxDEV(\"ul\", {\n                style: {\n                  listStyleType: \"none\",\n                  margin: \"0 0 0 20px\",\n                  padding: \"0\"\n                },\n                children: userAdded.map((obj, index) => /*#__PURE__*/_jsxDEV(\"li\", {\n                  style: {\n                    height: \"25px\",\n                    marginTop: \"5px\"\n                  },\n                  children: /*#__PURE__*/_jsxDEV(Button, {\n                    style: {\n                      position: \"fixed\",\n                      height: \"25px\",\n                      lineHeight: \"18px\",\n                      border: \"none\",\n                      borderRadius: \"10px\",\n                      backgroundColor: \"#b9cffb\",\n                      color: \"#fff\"\n                    },\n                    onClick: () => removeToListInvite(obj),\n                    children: obj.email\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 327,\n                    columnNumber: 53\n                  }, this)\n                }, obj.id, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 326,\n                  columnNumber: 49\n                }, this))\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 323,\n                columnNumber: 37\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 322,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                position: \"absolute\",\n                bottom: \"10px\",\n                left: \"25px\"\n              },\n              children: /*#__PURE__*/_jsxDEV(Button, {\n                onClick: btnAddUserOnClick,\n                className: \"btnAddUser\",\n                style: {\n                  width: \"250px\",\n                  backgroundColor: \"#0079bf\",\n                  color: \"#fff\"\n                },\n                disabled: userAdded.length == 0,\n                children: \"TH\\xCAM V\\xC0O B\\u1EA2NG\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 348,\n                columnNumber: 37\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 347,\n              columnNumber: 33\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 281,\n            columnNumber: 29\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 277,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          children: [\"Truy\\u1EC1n board ID v\\xE0o header2: \", id.id]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 362,\n          columnNumber: 25\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 220,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: /*#__PURE__*/_jsxDEV(Button, {\n          style: styleButton,\n          children: \"Menu\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 365,\n          columnNumber: 25\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 364,\n        columnNumber: 21\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 219,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 218,\n    columnNumber: 9\n  }, this);\n}\n\n_s(Header2, \"OacWF5B3ZC63W1yXV0D9Igap+as=\");\n\n_c = Header2;\nexport default Header2;\n\nvar _c;\n\n$RefreshReg$(_c, \"Header2\");","map":{"version":3,"sources":["E:/Blameo/BaseProject/React/Ha/trello-fe/src/pages/Header2.js"],"names":["React","useEffect","useState","useRef","StarOutlined","LockOutlined","PlusOutlined","Button","Layout","Select","Avatar","Input","Form","v4","uuidv4","getAllUserBoard","getAllUserToAddToBoard","postUserToBoardApi","Header2","id","styleHead2","position","background","height","marginTop","padding","styleButton","margin","color","fontWeight","border","styleAvatar","width","textAlign","backgroundColor","fontSize","borderRadius","invite_popup","top","left","zIndex","userSearch","setuserSearch","userAdded","setuserAdded","email","setemail","error","seterror","users","setusers","userDetail","setuserDetail","textInput","btnInviteOnclick","x","document","getElementById","focus","classList","toggle","add","current","btnCloseInviteOnClick","EmailOnChange","e","target","value","btnSearchOnClick","boardId","keyword","console","log","data","length","ex","addToListInvite","includes","removeToListInvite","obj","arr","i","splice","btnAddUserOnClick","u_id","b_id","userId","then","res","set","Header","Option","getAllUsers","DetailUser","dom","invite","btnCloseOnClick","getAll","allUsers","display","justifyContent","map","user","index","fullName","charAt","username","toUpperCase","lineHeight","alignItems","marginLeft","listStyleType","bottom"],"mappings":"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","sourcesContent":["import React, { useEffect, useState,useRef } from 'react';\r\nimport { StarOutlined, LockOutlined , PlusOutlined} from '@ant-design/icons';\r\nimport {Button, Layout, Select, Avatar,Input } from 'antd';\r\n// import api from './callApi/baseUrl'\r\nimport Form from 'antd/lib/form/Form';\r\nimport { v4 as uuidv4 } from 'uuid';\r\nimport './header2.css'\r\nimport { getAllUserBoard, getAllUserToAddToBoard, postUserToBoardApi } from '../Api/func/user';\r\n\r\nfunction Header2(id) {\r\n    const styleHead2 = {\r\n        position:\"relative\",\r\n        background: '#6D8DDF',\r\n        height: '60px',\r\n        marginTop: '6px',\r\n        padding: '0px'\r\n    };\r\n    const styleButton = {\r\n        margin:'auto 5px',\r\n        background: '#B9CFFB',\r\n        color:'#fff', \r\n        fontWeight:'bold', \r\n        height:'40px',\r\n        border: 'none',\r\n    };\r\n    const styleAvatar = {\r\n        width:\"40px\",\r\n        height:\"40px\",\r\n        color: '#000',\r\n        textAlign:\"center\",\r\n        backgroundColor: '#fff',\r\n        fontSize: '12px',\r\n        fontWeight: '500',\r\n        // margin: 'auto 1px auto 0',\r\n        borderRadius: '50%'\r\n    };\r\n\r\n    const invite_popup = {\r\n        width: \"300px\",\r\n        height: \"400px\",\r\n        position: 'absolute',\r\n        top: '33px',\r\n        left: '4px',\r\n        backgroundColor: '#ffffff',\r\n        border: 'solid 1px #e7eaf0',\r\n        borderRadius: '5px',\r\n        zIndex: '1'\r\n    }\r\n\r\n    //state\r\n    const [userSearch, setuserSearch] = useState([]);\r\n    const [userAdded, setuserAdded] = useState([]);\r\n    const [email, setemail] = useState(\"\");\r\n    const [error, seterror] = useState(\"1\");\r\n    const [users, setusers] = useState([]);//danh sach nguoi trong bang\r\n    const [userDetail, setuserDetail] = useState({})\r\n\r\n    //ref\r\n    const textInput = useRef(null);\r\n\r\n\r\n    //ẩn hiện form thêm người dùng vào bảng\r\n    const btnInviteOnclick = ()=>{\r\n        var x = document.getElementById(\"invitePopup\");\r\n        document.getElementById(\"focus\").focus();\r\n        x.classList.toggle(\"isHide\");\r\n        const userDetail = document.getElementById(\"detail-user\");\r\n        userDetail.classList.add(\"isHide\");\r\n        setuserSearch([]);\r\n        setuserAdded([]);\r\n        seterror(\"1\");\r\n        textInput.current.focus();\r\n        // setemail(\"\");\r\n    }\r\n\r\n    //đóng invite\r\n    const btnCloseInviteOnClick = ()=>{\r\n        var x = document.getElementById(\"invitePopup\");\r\n        x.classList.add(\"isHide\");\r\n    }\r\n\r\n    //change email\r\n    const EmailOnChange = (e) =>{\r\n        if(e.target.value){\r\n            setemail(e.target.value);\r\n        }\r\n    }\r\n    \r\n\r\n    //Tìm Kiếm người dùng\r\n    const btnSearchOnClick = async (e)=>{\r\n        try{\r\n            var users = await getAllUserToAddToBoard({\r\n                boardId: id.id,\r\n                keyword: email\r\n            });\r\n            \r\n            console.log(users.data);\r\n            if(users.data.length>0){\r\n                setuserSearch(users.data);\r\n                seterror(\"1\");\r\n            }\r\n            else {\r\n                seterror(\"2\");\r\n                setuserSearch([]);\r\n            }\r\n        }catch(ex){\r\n            console.log(ex);\r\n            seterror(\"Không tìm thấy kết quả\");\r\n            setuserSearch([]);\r\n        }\r\n    }\r\n\r\n    //Thêm vào danh sách add\r\n    const addToListInvite = (e) =>{\r\n        // console.log(\"obj invite: \",e)\r\n        if(!userAdded.includes(e)){\r\n            setuserAdded([...userAdded,e]);\r\n        }\r\n        // console.log(userAdded);\r\n    }\r\n\r\n    //Xoá khỏi danh sách mời vào bảng\r\n    const removeToListInvite = (obj) =>{\r\n        console.log(\"obj Remove: \",obj)\r\n        var arr = userAdded;\r\n        console.log(\"arr: \",arr)\r\n        for(let i =0;i<arr.length;i++){\r\n            if(obj.id==arr[i].id){\r\n                arr.splice(i,1);\r\n                // console.log(arr[i]);\r\n                \r\n            }\r\n        }\r\n        console.log(\"Sau khi remove: \",userAdded)\r\n        setuserAdded([...arr]);\r\n        \r\n    }\r\n\r\n    //thêm người vào bảng\r\n    const btnAddUserOnClick = async (e)=>{\r\n        if(userAdded.length>0){\r\n            for(let i = 0;i<userAdded.length;i++){\r\n                var u_id = userAdded[i].id;\r\n                var b_id=id.id;\r\n                // var user_b = {\r\n                //     userId: u_id,\r\n                //     boardId: b_id\r\n                // }\r\n                // console.log(user_b)\r\n                await postUserToBoardApi({\r\n                    userId: u_id,\r\n                    boardId: b_id\r\n                }).then(res=>{\r\n                    console.log(\"res: \",res);\r\n                    set\r\n                });\r\n                // api.post(\"user_b\",user_b).then(res =>{\r\n                //     console.log(\"res: \",res);\r\n                // }).catch(e =>{\r\n                //     console.log(\"ex: \",e)\r\n                // });\r\n            }\r\n            btnCloseInviteOnClick();\r\n        }\r\n    }\r\n    \r\n\r\n    const { Header} = Layout;\r\n    const { Option } = Select;\r\n\r\n    \r\n    // Get all user\r\n    const getAllUsers = async ()=>{\r\n        const users = await getAllUserBoard({\r\n            boardId:id.id\r\n        });\r\n        return users;\r\n        // const res = await api.get('/user_board');\r\n        // return res;\r\n    }\r\n\r\n    // Chi tiết user\r\n    const DetailUser = (obj)=>{\r\n        const dom = document.getElementById(\"detail-user\");\r\n        dom.classList.toggle(\"isHide\");\r\n        const invite = document.getElementById(\"invitePopup\");\r\n        invite.classList.add(\"isHide\")\r\n        console.log(obj)\r\n        setuserDetail(obj);\r\n    }\r\n\r\n    //Đóng chi tiết người dùng\r\n    const btnCloseOnClick = ()=>{\r\n        const dom = document.getElementById(\"detail-user\");\r\n        dom.classList.add(\"isHide\");\r\n    }\r\n\r\n    // useEffect\r\n    useEffect(()=>{\r\n        const getAll = async () =>{\r\n            const allUsers = await getAllUsers();\r\n            console.log(\"user: \",allUsers);\r\n            if(allUsers)\r\n                setusers(allUsers.data);\r\n        }\r\n        console.log(id.id)\r\n        // const timer = setInterval(1000)\r\n        getAll();\r\n        // return () => clearInterval(timer);\r\n    }, []);\r\n\r\n    // if(users[0])\r\n    //     console.log(users[0].username.charAt(0));\r\n\r\n\r\n    return (\r\n        <Header style={styleHead2}>\r\n            <div style={{margin:'auto 20px', display:'flex', justifyContent:'space-between'}}>\r\n                    <div>\r\n                        <Select defaultValue=\"Board\" style={{ width: 110, margin:'auto 5px auto 0', color:'#000', fontWeight:'500'}} >\r\n                            <Option value=\"Board\">Board</Option>\r\n                            <Option value=\"Calendar\">Calendar</Option>               \r\n                        </Select>\r\n                        <Button style={styleButton}>Name</Button>\r\n                        <Button style={styleButton}><StarOutlined /></Button>\r\n                        <Button style={styleButton}><LockOutlined /> Private</Button>\r\n                        {\r\n                            users.map((user, index)=>{\r\n                                return (index<2)?\r\n                                    <Button onClick={()=>DetailUser(user)} key={user.id} style={styleAvatar}>{(user.fullName)?user.fullName.charAt(0):\"\"}</Button>\r\n                                    :\"\";\r\n                                \r\n                            })\r\n                        }\r\n\r\n                        {/* Chi tiết người dùng */}\r\n                        <div id=\"detail-user\" className=\"isHide\">\r\n                            <button onClick={btnCloseOnClick} className=\"btnClose\">X</button>\r\n                            <div  className=\"flex detail-user__header\">\r\n                                <div className=\"header__avatar\">\r\n                                    <Avatar className=\"circle_avatar\">{(userDetail.username)?userDetail.username.charAt(0).toUpperCase():\"\"}</Avatar>\r\n                                </div>\r\n\r\n                                <div className=\"infor-user\">\r\n                                    <div className=\"infor-user_name\">{userDetail.username}</div>\r\n                                    <div className=\"infor-user_email\">{userDetail.email}</div>\r\n                                </div>\r\n                            </div>\r\n                            {/* 3 chúc năng */}\r\n                            <div className=\"btn-option-user\">\r\n                                <Button className=\"btn\">Thay Đổi quyền</Button>\r\n                            </div>\r\n                            <div className=\"btn-option-user\">\r\n                                <Button className=\"btn\">Xem hoạt đông của thành viên trong bảng</Button>\r\n                            </div>\r\n                            <div className=\"btn-option-user\">\r\n                                <Button className=\"btn\">Rời khỏi bảng</Button>\r\n                            </div>\r\n\r\n                        </div>\r\n\r\n                        \r\n                        <Avatar\r\n                                style={{\r\n                                color: '#fff',\r\n                                backgroundColor: '#84ABF7',\r\n                                fontSize: '12px',\r\n                                fontWeight: '500',\r\n                                margin: 'auto 0'  \r\n                                }}\r\n                            >\r\n                            <PlusOutlined/>{((users.length-2)>0)?(users.length-2):\"\"} \r\n                        </Avatar>\r\n\r\n                        {/* Button Invite */}\r\n                        <span style={{position:\"relative\"}}>\r\n                            <Button onClick={btnInviteOnclick}  style={styleButton}>\r\n                                Invite\r\n                            </Button>\r\n                            <div id=\"invitePopup\" style={invite_popup} className=\"isHide\">\r\n                                <button onClick={btnCloseInviteOnClick} className=\"btnClose\" style={{lineHeight:\"normal\"}}>X</button>\r\n                                <div style={{height:\"20px\",textAlign:\"center\",lineHeight:\"20px\",marginTop:\"5px\", alignItems:\"center\"}}>\r\n                                    Mời vào bảng\r\n                                </div>\r\n                                <hr style={{width:\"90%\"}}/>\r\n                                <div>\r\n                                   <input id=\"focus\" ref={textInput} onChange={EmailOnChange} style={{height:\"32px\", marginLeft:\"13px\"}} type=\"text\" placeholder=\"Địa chỉ email hoặc tên\"/>\r\n                                   <Button style={{marginLeft:\"10px\"}} onClick={btnSearchOnClick}>Tìm Kiếm</Button>\r\n                                </div>\r\n\r\n                                <div>\r\n                                    <ul style={{listStyleType:\"none\",margin:\"0 0 0 20px\",padding:\"0\"}}>\r\n                                    {\r\n                                        userSearch.map((obj,index)=>(\r\n                                            <li key={obj.id} style={{height:\"25px\", marginTop:\"5px\"}}>\r\n                                                <Button \r\n                                                    style={{\r\n                                                        position:\"fixed\",\r\n                                                        height:\"25px\",\r\n                                                        lineHeight:\"18px\",\r\n                                                        border:\"none\", \r\n                                                        borderRadius:\"10px\", \r\n                                                        backgroundColor:\"#6d8ddf\", \r\n                                                        color:\"#fff\"\r\n                                                    }}\r\n                                                    onClick={()=>addToListInvite(obj)}\r\n                                                >\r\n                                                    {obj.email}\r\n                                                </Button>\r\n                                            </li>\r\n                                        ))\r\n                                    }\r\n                                    </ul>\r\n                                </div>\r\n                                \r\n                                \r\n\r\n                                <div style={{textAlign:\"center\",fontSize:\"16px\"}}>{(error!=\"1\")? \"Không tìm thấy\":\"\" }</div>\r\n                                <hr style={{width:\"90%\"}}/>\r\n                                \r\n                                <div>\r\n                                    <ul style={{listStyleType:\"none\",margin:\"0 0 0 20px\",padding:\"0\"}}>\r\n                                        {\r\n                                            userAdded.map((obj,index)=>(\r\n                                                <li key={obj.id} style={{height:\"25px\", marginTop:\"5px\"}}>\r\n                                                    <Button \r\n                                                        style={{\r\n                                                            position:\"fixed\",\r\n                                                            height:\"25px\",\r\n                                                            lineHeight:\"18px\",\r\n                                                            border:\"none\", \r\n                                                            borderRadius:\"10px\", \r\n                                                            backgroundColor:\"#b9cffb\", \r\n                                                            color:\"#fff\"\r\n                                                        }}\r\n                                                        onClick={()=>removeToListInvite(obj)}\r\n                                                    >\r\n                                                        {obj.email}\r\n                                                    </Button>\r\n                                                </li>\r\n                                            ))\r\n                                        }\r\n                                    </ul>\r\n                                </div>\r\n\r\n                                <div style={{position:\"absolute\", bottom:\"10px\", left:\"25px\"}}>\r\n                                    <Button onClick={btnAddUserOnClick} \r\n                                        className=\"btnAddUser\" \r\n                                        style={{width:\"250px\",backgroundColor:\"#0079bf\", color:\"#fff\"}} \r\n                                        disabled={(userAdded.length==0)}\r\n                                    >\r\n                                        THÊM VÀO BẢNG\r\n                                    </Button>\r\n                                </div>\r\n                                \r\n\r\n                            </div>\r\n                            \r\n                        </span>\r\n                        \r\n                        <span>Truyền board ID vào header2: {id.id}</span>\r\n                    </div>       \r\n                    <div>\r\n                        <Button style={styleButton}>Menu</Button>\r\n                    </div>\r\n            </div>\r\n            \r\n        </Header>\r\n    )\r\n}\r\n\r\nexport default Header2\r\n"]},"metadata":{},"sourceType":"module"}